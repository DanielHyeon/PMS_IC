# PMS í”„ë¡œì íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### Windowsì—ì„œ ì‹¤í–‰í•˜ê¸°

1. **Docker Desktop ì„¤ì¹˜ ë° ì‹¤í–‰**
   - [Docker Desktop ë‹¤ìš´ë¡œë“œ](https://www.docker.com/products/docker-desktop/)
   - Docker Desktopì„ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰í•©ë‹ˆë‹¤
   - ì‹œìŠ¤í…œ íŠ¸ë ˆì´ì—ì„œ Docker ì•„ì´ì½˜ì´ ë³´ì´ë©´ ì¤€ë¹„ ì™„ë£Œ

2. **í”„ë¡œì íŠ¸ ì‹¤í–‰**
   ```
   ë”ë¸”í´ë¦­: menu.bat
   ```
   ë˜ëŠ” ê°„ë‹¨í•˜ê²Œ
   ```
   ë”ë¸”í´ë¦­: start.bat
   ```

3. **ì ‘ì†**
   - Frontend: http://localhost:5173
   - Backend: http://localhost:8080
   - PgAdmin: http://localhost:5050 (ID: admin@pms.com, PW: admin)
   - Redis GUI: http://localhost:8081

---

## ğŸ“ ì œê³µëœ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸

### ê¸°ë³¸ ìŠ¤í¬ë¦½íŠ¸

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| **menu.bat** | ì¢…í•© ê´€ë¦¬ ë©”ë‰´ (ê¶Œì¥) |
| **start.bat** | í”„ë¡œì íŠ¸ ì‹œì‘ |
| **stop.bat** | í”„ë¡œì íŠ¸ ì¤‘ì§€ |
| **restart.bat** | ì„œë¹„ìŠ¤ ì¬ì‹œì‘ |
| **status.bat** | ìƒíƒœ í™•ì¸ |
| **logs.bat** | ë¡œê·¸ í™•ì¸ |

### ì‚¬ìš© ì˜ˆì‹œ

```batch
# ì¢…í•© ë©”ë‰´ ì‹¤í–‰ (ëª¨ë“  ê¸°ëŠ¥ í¬í•¨)
menu.bat

# ê°œë³„ ëª…ë ¹ ì‹¤í–‰
start.bat     # ì‹œì‘
status.bat    # ìƒíƒœ í™•ì¸
logs.bat      # ë¡œê·¸ í™•ì¸
stop.bat      # ì¤‘ì§€
```

---

## ğŸ› ï¸ ê³ ê¸‰ ì‚¬ìš©ë²•

### ëª…ë ¹ì¤„ì—ì„œ ì§ì ‘ ì‹¤í–‰

```batch
# ì „ì²´ ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ë¡œê·¸ í™•ì¸
docker-compose logs -f backend
docker-compose logs -f frontend

# ì„œë¹„ìŠ¤ ì¤‘ì§€
docker-compose down

# ëª¨ë“  ë°ì´í„° ì‚­ì œ (ì£¼ì˜!)
docker-compose down -v
```

### ê°œë³„ ì„œë¹„ìŠ¤ ì œì–´

```batch
# ë°±ì—”ë“œë§Œ ì¬ì‹œì‘
docker-compose restart backend

# í”„ë¡ íŠ¸ì—”ë“œë§Œ ì¬ì‹œì‘
docker-compose restart frontend

# ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì¬ì‹œì‘
docker-compose restart postgres redis
```

### ì´ë¯¸ì§€ ë‹¤ì‹œ ë¹Œë“œ

```batch
# ì „ì²´ ë¹Œë“œ
docker-compose build

# ë°±ì—”ë“œë§Œ ë¹Œë“œ
docker-compose build backend

# í”„ë¡ íŠ¸ì—”ë“œë§Œ ë¹Œë“œ
docker-compose build frontend

# ë¹Œë“œ í›„ ì‹œì‘
docker-compose up -d --build
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### í¬íŠ¸ ì¶©ëŒ

ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì´ í¬íŠ¸ë¥¼ ì‚¬ìš© ì¤‘ì¸ ê²½ìš°:

```batch
# Windowsì—ì„œ í¬íŠ¸ ì‚¬ìš© í™•ì¸
netstat -ano | findstr :5173
netstat -ano | findstr :8080
netstat -ano | findstr :5432

# í”„ë¡œì„¸ìŠ¤ ê°•ì œ ì¢…ë£Œ
taskkill /PID [PIDë²ˆí˜¸] /F
```

ë˜ëŠ” `docker-compose.yml`ì—ì„œ í¬íŠ¸ ë³€ê²½:
```yaml
ports:
  - "5174:5173"  # 5173 ëŒ€ì‹  5174 ì‚¬ìš©
```

### ì»¨í…Œì´ë„ˆ ì‹œì‘ ì‹¤íŒ¨

```batch
# ë¡œê·¸ í™•ì¸
docker-compose logs backend
docker-compose logs frontend

# ê°•ì œ ì¬ì‹œì‘
docker-compose down
docker-compose up -d --force-recreate
```

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨

```batch
# PostgreSQL ìƒíƒœ í™•ì¸
docker-compose ps postgres

# ìˆ˜ë™ ì—°ê²° í…ŒìŠ¤íŠ¸
docker-compose exec postgres pg_isready -U pms_user

# í™˜ê²½ ë³€ìˆ˜ í™•ì¸
docker-compose exec backend env | findstr SPRING_DATASOURCE
```

### Hot Reload ì‘ë™ ì•ˆ í•¨

- í”„ë¡ íŠ¸ì—”ë“œ: `docker-compose.override.yml` í™•ì¸
- ë°±ì—”ë“œ: Spring DevTools í™œì„±í™” í™•ì¸

---

## ğŸ“Š ì„œë¹„ìŠ¤ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Docker Compose                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Frontend   â”‚  â”‚   Backend    â”‚  â”‚ PostgreSQLâ”‚ â”‚
â”‚  â”‚  React+Vite  â”‚  â”‚ Spring Boot  â”‚  â”‚  (DB)     â”‚ â”‚
â”‚  â”‚  :5173       â”‚  â”‚  :8080       â”‚  â”‚  :5432    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    Redis     â”‚  â”‚  AI Service  â”‚  â”‚  PgAdmin  â”‚ â”‚
â”‚  â”‚  (Cache)     â”‚  â”‚   (Mock)     â”‚  â”‚   (GUI)   â”‚ â”‚
â”‚  â”‚  :6379       â”‚  â”‚  :8000       â”‚  â”‚  :5050    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í¬íŠ¸ ë§¤í•‘

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | URL |
|--------|------|-----|
| Frontend | 5173 | http://localhost:5173 |
| Backend | 8080 | http://localhost:8080 |
| PostgreSQL | 5432 | localhost:5432 |
| Redis | 6379 | localhost:6379 |
| PgAdmin | 5050 | http://localhost:5050 |
| Redis Commander | 8081 | http://localhost:8081 |
| AI Service Mock | 8000 | http://localhost:8000 |

---

## ğŸ” ê¸°ë³¸ ê³„ì • ì •ë³´

### PgAdmin
- URL: http://localhost:5050
- Email: admin@pms.com
- Password: admin

### PostgreSQL
- Host: localhost
- Port: 5432
- Database: pms_db
- User: pms_user
- Password: pms_password

### Redis
- Host: localhost
- Port: 6379
- Password: (ì—†ìŒ)

---

## ğŸ“ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. í”„ë¡œì íŠ¸ ì‹œì‘
```batch
menu.bat  # ë˜ëŠ” start.bat
```

### 2. ì½”ë“œ ìˆ˜ì •
- í”„ë¡ íŠ¸ì—”ë“œ: `PMS_IC_FrontEnd_v1.2/src` ë””ë ‰í† ë¦¬
- ë°±ì—”ë“œ: `PMS_IC_BackEnd_v1.2/src` ë””ë ‰í† ë¦¬
- Hot Reloadê°€ í™œì„±í™”ë˜ì–´ ìˆì–´ ì €ì¥í•˜ë©´ ìë™ ë°˜ì˜

### 3. ë¡œê·¸ í™•ì¸
```batch
logs.bat  # ë˜ëŠ” docker-compose logs -f
```

### 4. ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…
```batch
# PostgreSQL ì ‘ì†
docker-compose exec postgres psql -U pms_user -d pms_db

# í…Œì´ë¸” í™•ì¸
docker-compose exec postgres psql -U pms_user -d pms_db -c "\dt auth.*"
```

### 5. Redis ì‘ì—…
```batch
# Redis CLI ì ‘ì†
docker-compose exec redis redis-cli

# í‚¤ ì¡°íšŒ
docker-compose exec redis redis-cli KEYS "*"
```

---

## ğŸ¯ ì²´í¬ë¦¬ìŠ¤íŠ¸

ê°œë°œ ì‹œì‘ ì „ í™•ì¸ì‚¬í•­:

- [ ] Docker Desktop ì„¤ì¹˜ ë° ì‹¤í–‰
- [ ] `.env` íŒŒì¼ ìƒì„± (start.bat ì‹¤í–‰ ì‹œ ìë™ ìƒì„±)
- [ ] í•„ìš”í•œ í¬íŠ¸ ì‚¬ìš© ê°€ëŠ¥ (5173, 8080, 5432, 6379 ë“±)
- [ ] `menu.bat` ë˜ëŠ” `start.bat` ì‹¤í–‰
- [ ] ëª¨ë“  ì„œë¹„ìŠ¤ ì •ìƒ ì‘ë™ í™•ì¸ (`status.bat`)

---

## ğŸ’¡ ìœ ìš©í•œ íŒ

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```batch
# ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ í™•ì¸
docker stats
```

### ë°ì´í„° ë°±ì—…
```batch
# ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
docker-compose exec postgres pg_dump -U pms_user pms_db > backup.sql

# ë³µì›
docker-compose exec -T postgres psql -U pms_user -d pms_db < backup.sql
```

### ë¡œê·¸ ë ˆë²¨ ì¡°ì •
`docker-compose.override.yml` íŒŒì¼ì— ì¶”ê°€:
```yaml
services:
  backend:
    environment:
      LOGGING_LEVEL_ROOT: DEBUG
```

---

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- [README_DOCKER.md](README_DOCKER.md) - ìƒì„¸ Docker ê°€ì´ë“œ
- [Makefile](Makefile) - Linux/Macìš© ëª…ë ¹ì–´
- [Backend README](PMS_IC_BackEnd_v1.2/README.md)
- [Frontend README](PMS_IC_FrontEnd_v1.2/README.md)

---

## ğŸ†˜ ë„ì›€ë§

ë¬¸ì œê°€ ë°œìƒí•˜ë©´:

1. `status.bat`ìœ¼ë¡œ ìƒíƒœ í™•ì¸
2. `logs.bat`ìœ¼ë¡œ ë¡œê·¸ í™•ì¸
3. Docker Desktopì´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
4. í•„ìš”í•œ í¬íŠ¸ê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸
5. `docker-compose down` í›„ ë‹¤ì‹œ ì‹œì‘

**ê¸´ê¸‰ ë³µêµ¬:**
```batch
docker-compose down -v
docker-compose up -d --force-recreate
```

---

**í–‰ìš´ì„ ë¹•ë‹ˆë‹¤! ğŸš€**
